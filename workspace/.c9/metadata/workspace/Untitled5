{"changed":true,"filter":false,"title":"Untitled5","tooltip":"/Untitled5","value":"#include <stdio.h>\n#include <stdlib.h>\n \n#include \"square.h\"\n \nchar IGNORE[] = {'.', ' ', ',', 0x27, ':'}; \n \nFILE *open_message_file () {\n  return fopen(\"SEKRETS.txt\", \"r\");\n}\n \nvoid close_message_file(FILE *fp) {\n  if (fp != NULL) {\n    fclose(fp);\n  }\n}\n \nint get_number_of_messages () {\n  FILE *fp;\n  int line_count;\n  \n  fp = open_message_file();\n  line_count = 0;\n  \n  while (!feof(fp)) {\n    int c = getc(fp);\n    if (c == '\\n') {\n      line_count++;\n    }\n  }\n  \n  close_message_file(fp);\n  return line_count;\n}\n \nFILE *advance_to_msg (int msg_ndx) {\n  FILE *fp;\n  int line_count;\n  \n  fp = open_message_file();\n  line_count = 0;\n  \n  while (!feof(fp) && line_count < msg_ndx) {\n    int c = getc(fp);\n    if (c == '\\n') {\n      line_count++;\n    }\n  }\n  \n  return fp;\n}\n \nint get_message_length (int msg_ndx) {\n  FILE *fp;\n  int length = 0;\n  char c;\n  \n  fp = advance_to_msg (msg_ndx);\n  \n  while((c = getc(fp)) != '\\n') {\n    int OK = 1;\n    for (int i = 0; i < sizeof(IGNORE); i++) {\n      if (c == IGNORE[i]) {\n        OK = 0;\n      }\n    }\n    if (OK) {\n      length++;\n    }\n  }\n  \n  close_message_file(fp);\n  return length;\n}\n \nchar *read_message (int msg_ndx) {\n  FILE *fp;\n  char *msg;\n  int ndx;\n  int length;\n  char c;\n  \n  ndx = 0;\n  length = get_message_length(msg_ndx);\n  fp = advance_to_msg(msg_ndx);\n  \n  msg = (char*) malloc(length * sizeof(char));\n  \n  while((c = getc(fp)) != '\\n') {\n    int OK = 1;\n   \n    for (int i = 0; i < sizeof(IGNORE); i++) {\n      /* printf(\"CHECKING %c vs %c\\n\", c, IGNORE[i]); */\n      if (c == IGNORE[i]) {\n        OK = 0;\n      }\n    }\n    \n    if (OK) {\n      msg[ndx] = c;\n      ndx += 1;\n    }\n  }\n \n  close_message_file(fp);\n  \n  return msg;\n}","undoManager":{"mark":-1,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":18}},"text":"#include <stdio.h>"},{"action":"insertText","range":{"start":{"row":0,"column":18},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":107,"column":0}},"lines":["#include <stdlib.h>"," ","#include \"square.h\""," ","char IGNORE[] = {'.', ' ', ',', 0x27, ':'}; "," ","FILE *open_message_file () {","  return fopen(\"SEKRETS.txt\", \"r\");","}"," ","void close_message_file(FILE *fp) {","  if (fp != NULL) {","    fclose(fp);","  }","}"," ","int get_number_of_messages () {","  FILE *fp;","  int line_count;","  ","  fp = open_message_file();","  line_count = 0;","  ","  while (!feof(fp)) {","    int c = getc(fp);","    if (c == '\\n') {","      line_count++;","    }","  }","  ","  close_message_file(fp);","  return line_count;","}"," ","FILE *advance_to_msg (int msg_ndx) {","  FILE *fp;","  int line_count;","  ","  fp = open_message_file();","  line_count = 0;","  ","  while (!feof(fp) && line_count < msg_ndx) {","    int c = getc(fp);","    if (c == '\\n') {","      line_count++;","    }","  }","  ","  return fp;","}"," ","int get_message_length (int msg_ndx) {","  FILE *fp;","  int length = 0;","  char c;","  ","  fp = advance_to_msg (msg_ndx);","  ","  while((c = getc(fp)) != '\\n') {","    int OK = 1;","    for (int i = 0; i < sizeof(IGNORE); i++) {","      if (c == IGNORE[i]) {","        OK = 0;","      }","    }","    if (OK) {","      length++;","    }","  }","  ","  close_message_file(fp);","  return length;","}"," ","char *read_message (int msg_ndx) {","  FILE *fp;","  char *msg;","  int ndx;","  int length;","  char c;","  ","  ndx = 0;","  length = get_message_length(msg_ndx);","  fp = advance_to_msg(msg_ndx);","  ","  msg = (char*) malloc(length * sizeof(char));","  ","  while((c = getc(fp)) != '\\n') {","    int OK = 1;","   ","    for (int i = 0; i < sizeof(IGNORE); i++) {","      /* printf(\"CHECKING %c vs %c\\n\", c, IGNORE[i]); */","      if (c == IGNORE[i]) {","        OK = 0;","      }","    }","    ","    if (OK) {","      msg[ndx] = c;","      ndx += 1;","    }","  }"," ","  close_message_file(fp);","  ","  return msg;"]},{"action":"insertText","range":{"start":{"row":107,"column":0},"end":{"row":107,"column":1}},"text":"}"}]}]]},"ace":{"folds":[],"scrolltop":656.5,"scrollleft":0,"selection":{"start":{"row":107,"column":1},"end":{"row":107,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1410388195124}